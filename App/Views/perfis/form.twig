{% extends "layouts/painel.twig" %}

{% block title %}
    {{ acao == 'criar' ? 'Nova permissão' : 'Editar permissão' }}
{% endblock %}

{% block content %}

<div class="page-header">
    <h1 class="page-title">
        {{ acao == 'criar' ? 'Criar permissão' : 'Editar permissão' }}
    </h1>
</div>

<div class="card" style="padding:25px;">

    <form method="post"
          action="{{ acao == 'criar'
              ? url('/permissoes/criar')
              : url('/permissoes/editar/' ~ permissao.id) }}">

        <input type="hidden" name="_csrf" value="{{ csrf }}">

        {% include 'components/input.twig' with {
            label: 'Chave',
            name: 'chave',
            value: form_old.chave ?? permissao.chave ?? '',
            errors: form_errors,
            placeholder: 'ex: utilizadores.ver'
        } %}

        {% include 'components/input.twig' with {
            label: 'Nome',
            name: 'nome',
            value: form_old.nome ?? permissao.nome ?? '',
            errors: form_errors,
            placeholder: 'Ex: Ver utilizadores'
        } %}

        {% include 'components/input.twig' with {
            label: 'Categoria',
            name: 'categoria',
            value: form_old.categoria ?? permissao.categoria ?? '',
            errors: form_errors,
            placeholder: 'Ex: Utilizadores, Documentos...'
        } %}

        <div style="display:flex; justify-content:space-between; margin-top:25px;">
            <a href="{{ url('/permissoes') }}" class="btn-sm btn-warning">Voltar</a>
            <button class="btn-primary">
                {{ acao == 'criar' ? 'Criar permissão' : 'Guardar alterações' }}
            </button>
        </div>
    </form>

</div>

{% endblock %}