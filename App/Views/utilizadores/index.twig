{% extends "layouts/painel.twig" %}

{% block title %}Utilizadores{% endblock %}

{% block content %}

<h1 class="page-title">Utilizadores</h1>

<div class="actions-bar">
    <a href="{{ url('/admin/utilizadores/criar') }}" class="btn btn-primary">Novo Utilizador</a>
</div>

<table class="table">
    <thead>
    <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Email</th>
        <th>Perfil</th>
        <th>Estado</th>
        <th>Ações</th>
    </tr>
    </thead>
    <tbody>
    {% for user in utilizadores %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.nome }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.perfil_nome ?? '-' }}</td>
            <td>{{ user.estado ? 'Ativo' : 'Inativo' }}</td>
            <td>
                <a href="{{ url('/admin/utilizadores/editar/' ~ user.id) }}" class="btn btn-sm btn-secondary">Editar</a>
                <a href="{{ url('/admin/utilizadores/eliminar/' ~ user.id) }}" class="btn btn-sm btn-danger"
                   onclick="return confirm('Tem a certeza que quer eliminar este utilizador?');">
                    Eliminar
                </a>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="6">Nenhum utilizador encontrado.</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}