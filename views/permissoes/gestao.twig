{% extends "base.twig" %}

{% block title %}Permissões de {{ user.nome }}{% endblock %}

{% block content %}
<h1 class="mb-3">Permissões de {{ user.nome }}</h1>

<div class="row">
  <div class="col-md-6">
    <h4>Permissões atribuídas</h4>
    <ul class="list-group">
      {% for p in ativas %}
      <li class="list-group-item d-flex justify-content-between">
        {{ p.nome }}
        <form method="post" action="/permissoes/{{ user.id }}/remove">
          <input type="hidden" name="permissao_id" value="{{ p.id }}">
          <button class="btn btn-sm btn-danger">Remover</button>
        </form>
      </li>
      {% endfor %}
    </ul>
  </div>

  <div class="col-md-6">
    <h4>Adicionar permissão</h4>
    <form method="post" action="/permissoes/{{ user.id }}/assign">
      <select name="permissao_id" class="form-select mb-2">
        {% for p in todas %}
          <option value="{{ p.id }}">{{ p.nome }}</option>
        {% endfor %}
      </select>
      <button class="btn btn-primary">Atribuir</button>
    </form>
  </div>
</div>
{% endblock %}
